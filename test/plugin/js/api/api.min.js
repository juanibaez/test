apiURL = "https://api.8thsensus.net:3001/api";

apiObject = {
    getAPI: function(data) {
        var jsonString = data;

        var urlString = apiURL + data.apiUrlEndpoint;

        var promise = $.ajax({
            url: urlString,
            data: jsonString,
            type: 'GET',
            dataType: 'json',
            xhrFields: {
                'Access-Control-Allow-Credentials': true
            },
            success: function (data) {
                //alert(JSON.stringify(data));
            }
        }).fail(function () {
            $( "#connection_issue" ).show();
        });
        return promise;

    },

    postAPI: function(data) {
        var jsonString = data;
        var urlString = apiURL + data.apiUrlEndpoint;
        jsonString = JSON.stringify(data);
        var promise = $.ajax({
            url: urlString,
            data: jsonString,
            type: 'POST',
            headers: {"X-HTTP-Method-Override": "POST"},
            dataType: 'json',
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                //alert(JSON.stringify(data));
            }
        }).fail(function () {
            $( "#connection_issue" ).show();
        });
        return promise;
    },

    deleteAPI: function(data) {
        var user_session = Cookies.get('apiAutho');

        if (user_session == 'undefined') {
            alert('No cookie')
            //$(location).attr("href", "/");
        } else {
            data.userSession = user_session;
            var jsonString = data;

            var urlString = apiURL + data.apiUrlEndpoint;

            jsonString = JSON.stringify(data);

            var promise = $.ajax({
                url: urlString,
                data: jsonString,
                type: 'DELETE',
                headers: {"X-HTTP-Method-Override": "DELETE"},
                dataType: 'json',
                contentType: 'application/json; charset=utf-8',
                success: function (data) {
                    //alert(JSON.stringify(data));
                }
            }).fail(function () {
                $( "#connection_issue" ).show();
            });
            return promise;
        }
    },
}

